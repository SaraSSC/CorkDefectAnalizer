# @package _global
# @file sam2.1_hiera_b+MOSE_finetuneCustom.yaml
# @SaraSSC

scratch:
  resolution: 1024
  train_batch_size: 1
  num_train_workers: 10
  num_frames: 8 # Number of frames to sample from each video
  max_num_objects: 10 # Maximum number of objects to track in each video
  base_lr: 5.0e-6
  vision_lr: 5.0e-6
  phases_per_epoch: 1
  num_epochs: 40 # Number of epochs to train

  dataset:
  #PATHS to datasets
    img_folder: /dataset/images
    ann_file: /dataset/masks/results.json
    file_list_txt: /dataset/train.csv
    multiplier: 1 # Multiplier for the dataset size

  #Video transformations
  vos:
    train_transforms:
      - _target_: training.dataset.transforms.ComposeAPI
        transforms:
          - _target_: training.dataset.transforms.RandomHorizontalFlip
            consistent_transform: True
          - _target_: training.dataset.transforms.RandomAffine
            degrees: 25
            shear: 20
            image_interpolation: bilinear
            consistent_transform: True
          - _target_: training.dataset.transforms.RandomResizeAPI
            size: ${scratch.resolution}
            consistent_transform: True
            square: True
          - _target_: training.dataset.transforms.RandomGrayscale
            p: 0.05
            consistent_transform: True
          - _target_: training.dataset.transforms.ColorJitter
            brightness: 0.1
            contrast: 0.03
            saturation: 0.03
            hue: 0.1
            consistent_transform: True
          - _target_: training.dataset.transforms.ColorJitter
            brightness: 0.1
            contrast: 0.05
            saturation: 0.05
            hue: Null
            consistent_transform: False
          - _target_: training.dataset.transforms.ToTensorAPI
          - _target_: training.dataset.transforms.NormalizeAPI
            mean: [0.485, 0.456, 0.406]
            std: [0.229, 0.224, 0.225]

#Trainer